---
title: "Einführung in R & RStudio: Workshop - Tag 1"
sidebar: false

---

# Inhalte

Dieser Teil enthält die inhaltlichen Materialien zum Workshop „Einführung in R & RStudio“.  
Er ist so aufgebaut, dass du ihn als Begleitunterlage im Workshop oder zur Nachbereitung nutzen kannst.

------------------------------------------------------------------------

## 1. Einführung in R & RStudio {#einleitung}

R ist eine freie Programmiersprache für statistische Analysen, Visualisierung und Datenverarbeitung.  
RStudio ist eine integrierte Entwicklungsumgebung (IDE), die die Arbeit mit R übersichtlicher und komfortabler macht.

### Die vier Bereiche von RStudio

Typischerweise besteht RStudio aus vier Bereichen („Panes“):

1. **Source / Editor** – hier schreibst du Skripte (`.R`, `.qmd` usw.).  
2. **Console** – hier werden Befehle direkt ausgeführt.  
3. **Environment / History** – hier siehst du deine Objekte und Befehls-Historie.  
4. **Files / Plots / Packages / Help / Viewer** – Dateien, Grafiken, installierte Pakete, Hilfe usw.

### R als Taschenrechner

```{r}
#| echo: true

2 + 2
10 / 3
sqrt(49)

```

PLATZHALTER


::: callout-note
#### Übung 1 – R als Taschenrechner

- Berechne: `5^2 + 3`.  
- Was ergibt `sqrt(144)*75`?  
- Führe die Befehle einmal direkt in der Konsole und einmal aus einem Skript aus.
:::

------------------------------------------------------------------------

# 2. Grundprinzipien von R {#grundprinzipien}

R arbeitet objektorientiert: Alles, was du erzeugst, ist ein Objekt und bekommt einen Namen.

## Objekte anlegen

```{r}
#| echo: true

x <- 5
y <- c(1, 2, 3, 4, 5)

```


::: callout-note
**Hinweis**

- `<-` ist der Zuweisungspfeil („wird zugewiesen“).  
- `y` ist ein Vektor aus mehreren Zahlen.
:::

### Funktionen verwenden

```{r}
#| echo: true

mean(y)

sum(y)

length(y)

round(3.14159, digits = 2)

```


::: callout-note
# Übung 2 – Objekte & Funktionen

- Erstelle ein Objekt `z` mit mindestens fünf Zahlen.  
- Berechne Mittelwert, Summe und Länge von `z`.  
- Erzeuge ein Objekt `pi_gerundet`, das `pi` auf 3 Nachkommastellen rundet.
:::

::: callout-warning
# Häufige Fehler

- Funktion falsch geschrieben: `Mean(y)` statt `mean(y)`  
- Klammern vergessen: `mean y` statt `mean(y)`  
- `<-` vergessen oder `=` inkonsistent verwendet  
- Im falschen Fenster tippen (Konsole statt Skript oder umgekehrt)
:::

------------------------------------------------------------------------

## 3. Datentypen & Datenstrukturen {#datentypen}

### Wichtige Datentypen

::: callout-note
- `numeric` / `double` (Kommazahlen)  
- `integer` (Ganze Zahlen, z.B. `1L`)  
- `character` (Text)  
- `logical` (`TRUE`/`FALSE`)  
- `factor` (kategorische Daten)
:::

### Wichtige Datenstrukturen

- **Vektor**: geordnete Liste von Werten  
- **Data Frame / tibble**: Tabelle mit Zeilen (**Fälle**) und Spalten (**Variablen**)

### Beispiel

```{r}
#| echo: true

library(tibble)

df <- tibble( name = c("Anna", "Ben", "Clara"), alter = c(23, 25, 22), studierend = c(TRUE, TRUE, FALSE), speed = c(12.6, 10.1 ,9.5) )

df
```

Platzhalter

```{r}
#| echo: true

str(df) 

summary(df) 

dplyr::glimpse(df)


```

Platzhalter


::: callout-note
#### Übung 3 – Eigene Tabelle

- Erstelle einen eigenen `tibble` mit  
  - mindestens 3 Variablen (z. B. `fach`, `alter`, `geschlecht`)  
  - mindestens 5 Fällen.  
- Untersuche danach mit `str()` und `summary()` die Struktur.
:::

------------------------------------------------------------------------

## 4. Daten importieren {#import}

Wir verwenden Funktionen aus dem **tidyverse**, um Daten zu importieren und zu bearbeiten.


```{r}
#| echo: true

library(readr)# für CSV 
library(readxl)# für Excel 
library(haven) # für SPSS-Dateien

#Einfacher mit 
library(tidyverse)

```

Platzhalter

```{r}
#| echo: true
#| eval: false
### CSV-Dateien einlesen

daten_csv <- read_csv("data/workshop1-dataset.csv")

text

### Excel-Dateien einlesen

daten_xlsx <- read_excel("data/workshop1-dataset.xlsx")

text

### SPSS-Dateien einlesen

daten_sav <- read_sav("data/workshop1-dataset.sav")

text

```


::: callout-warning
### Typische Probleme & Lösungen

| Problem             | Mögliche Ursache | Mögliche Lösung                                  |
|--------------------|------------------|--------------------------------------------------|
| `cannot open file` | falscher Pfad    | Projektordner prüfen, Datei-Pfad anpassen       |
| Umlaute „kaputt“   | Encoding         | `locale = locale(encoding = "UTF-8")` testen    |
| alles `character`  | Typ falsch erkannt | nachträglich mit `mutate()` umwandeln        |
:::

::: callout-note
#### Übung 4 – Datensatz importieren

- Importiere den bereitgestellten Übungsdatensatz.  
- Prüfe: `nrow()`, `ncol()`, `head()`, `summary()`.  
- Notiere dir, welche Variablen welcher Art sind.
:::

------------------------------------------------------------------------

## 5. Datenaufbereitung mit dplyr {#aufbereitung}

Wir verwenden das Paket **dplyr**, um Daten lesbar zu transformieren.

```{r}
#| echo: true

library(dplyr)
```

Platzhalter


::: callout-important
Wichtige Funktionen:

- `select()` – Variablen auswählen  
- `filter()` – Fälle auswählen  
- `mutate()` – neue Variablen erstellen  
- `arrange()` – sortieren  
- `rename()` – Variablen umbenennen
:::

### Beispiel-Workflow

```{r}
#| eval: false

daten_clean <- daten_csv |> 
  select(id, alter, geschlecht, score) |> 
  filter(alter >= 18) |> 
  mutate(score_z = as.numeric(scale(score))) |> 
  arrange(desc(score_z))
```

Platzhalter


::: callout-note
#### Übung 5 – Erste Transformationen

- Wähle 3–5 Variablen aus deinem Datensatz aus.  
- Filtere alle Personen heraus, die jünger als 18 sind.  
- Erstelle eine neue Variable, z. B. eine kategorisierte Altersgruppe.
:::

------------------------------------------------------------------------

## 6. Fehlende Werte (NA) {#fehlende-werte}

Fehlende Werte werden in R als `NA` kodiert.

### NAs zählen

```{r}
#| eval: false
sum(is.na(daten_csv$score))
```

Platzhalter

### Alle Zeilen mit NA in einer Variablen anzeigen

```{r}
#| eval: false
daten_csv |> filter(is.na(score))
```

Platzhalter

### Fehlercodes in NA umwandeln

```{r}
#| eval: false

daten_clean2 <- daten_csv |> 
  mutate( score = ifelse(score == 99, NA, score) )
```

Platzhalter


::: callout-note
#### Übung 6 – Missing Values

- Finde heraus, in welchen Variablen NAs vorkommen.  
- Identifiziere einen möglichen Fehlercode (z. B. 99, 999) und wandle ihn in `NA` um.  
- Diskutiere Strategien (Löschen vs. Imputieren).
:::

------------------------------------------------------------------------

## 7. Datensätze verbinden (Joins) {#joins}

Oft liegen Daten in mehreren Tabellen vor (z. B. Stammdaten + Skalen).

```{r}
#| eval: false
### Beispiel: `left_join()`

stammdaten <- tibble( id = c(1, 2, 3), alter = c(23, 25, 22) )

skalen <- tibble( id = c(1, 2, 3), depressions_score = c(10, 15, 8) )

daten_joined <- left_join(stammdaten, skalen, by = "id") daten_joined

```

Platzhalter


::: callout-tip
## Weitere Join-Varianten

- `inner_join()` - behält alles links
- `right_join()`  
- `full_join()`
:::

::: callout-note
#### Übung 7 – Tabellen verbinden

- Erzeuge zwei kleine Tabellen mit einer gemeinsamen ID-Spalte.  
- Führe sie mit `left_join()` zusammen.  
- Überlege: Was passiert, wenn ein ID-Wert nur in einer Tabelle vorkommt?
:::

------------------------------------------------------------------------

## 8. Reproduzierbare Workflows {#workflow}

Ziel ist ein gut dokumentierter, nachvollziehbarer Analyseschritt.

### Projektstruktur

::: callout-tip
## Eine mögliche Struktur

- `projektname/`  
  - `data/`  
  - `scripts/`  
  - `output/`  
  - `projektname.Rproj`

### Skripte sinnvoll gliedern

- `01_import.R`  
- `02_cleaning.R`  
- `03_analysis.R`  
- `04_plots.R`
:::

### Kommentare nutzen

Schritt 1: Daten importieren daten \<- read_csv("data/workshop1-dataset.csv")

Schritt 2: Bereinigung daten_clean \<- daten \|\> filter(alter \>= 18)

Platzhalter


::: callout-note
#### Übung 8 – Dein eigenes Skript

- Erstelle ein neues Skript, in dem du Import, erste Bereinigung und Export zusammenfasst.  
- Strukturiere das Skript in logisch benannte Abschnitte.
:::

------------------------------------------------------------------------

## 9. Mini-Projekt: Eigener Datenaufbereitungs-Workflow {#miniprojekt}

Im Mini-Projekt kombinierst du die gelernten Schritte zu einem kleinen Workflow.

### Ziel

Ein bereinigter Datensatz, der für eine einfache Analyse oder Visualisierung bereit ist.

::: callout-tip
## Möglicher Ablauf

- Daten importieren  
- Variablen auswählen (`select`)  
- Fälle filtern (`filter`)  
- Fehlende Werte behandeln (`is.na`, `ifelse`, `drop_na`)  
- Neue Variablen erstellen (`mutate`)  
- Datensätze verbinden (falls notwendig, `left_join`)  
- Datensatz exportieren (`write_csv`)
:::

```{r}
#| eval: false
### Beispiel: Export

write_csv(daten_clean, "output/workshop1_clean_data.csv")
```

Platzhalter


::: callout-note
#### Übung 9 – Abschluss

- Dokumentiere deinen gesamten Workflow in einem Skript.  
- Exportiere deinen finalen Datensatz in den Ordner `output/`.  
- Notiere dir in eigenen Worten, welche Entscheidungen du bei der Bereinigung getroffen hast.
:::

------------------------------------------------------------------------

*Ende des Workshop-1-Inhaltmoduls.*













quarto preview
git add .
git commit -m "Änderungen"
git push
