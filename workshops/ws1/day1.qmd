---
title: "EinfÃ¼hrung in R & RStudio â€“ Tag 1"
subtitle: "Grundlagen, Objekte & erste Daten"
format:
  html:
    toc: true
    toc-title: "Tag 1 â€“ Inhalte"
    toc-location: left
    toc-depth: 2
sidebar: false
---
# Ankommen & Setup

Willkommen zum Workshop â€EinfÃ¼hrung in R & RStudioâ€œ ğŸ‘‹
An Tag 1 legen wir die Grundlagen, die wir am zweiten Tag weiter vertiefen.

**Ziele fÃ¼r heute**
- RStudio OberflÃ¤che kennenlernen
- verstehen, wie R â€denktâ€œ
- erste eigene Objekte und Daten erzeugen

------------------------------------------------------------------------

# Was ist R und Rstudio?

**R** ist eine freie Programmiersprache, mit der man *Daten analysieren, auswerten und grafisch* darstellen kann.

<u>**Du kannst mit R zum Beispiel:**</u>

- Tabellen mit vielen Zahlen auswerten
- Mittelwerte, HÃ¤ufigkeiten oder Korrelationen berechnen
- Diagramme und Grafiken erstellen
- Daten aufbereiten, filtern und umformen

**R** wird hÃ¤ufig in den Sozialwissenschaften, der Psychologie, der Medizin und vielen anderen Forschungsbereichen genutzt, unabhÃ¤nging ob ***quantitativ oder qualitativ*** gearbeitet wird.
Der groÃŸe Vorteil von **R** ist, dass alle Analyseschritte transparent, nachvollziehbar und reproduzierbar sind â€“ man kann also genau sehen, wie ein Ergebnis entstanden ist.



**RStudio** ist ***keine eigene ProgrammierÂ­sprache***, sondern ein Programm, das dir die Arbeit mit R erleichtert.
Man kann sich **RStudio** wie einen Schreibtisch fÃ¼r *R* vorstellen.

<u>**RStudio hilft dir dabei:**</u>

- Codes Ã¼bersichtlich zu schreiben
- Befehle auszufÃ¼hren und Ergebnisse zu sehen
- deine Daten, Objekte und Grafiken im Blick zu behalten
- Dateien und Projekte organisiert zu verwalten

Ohne ***RStudio*** mÃ¼sstest du **R** Ã¼ber ein sehr einfaches Fenster bedienen.
Mit RStudio bekommst du eine strukturierte OberflÃ¤che, die besonders fÃ¼r Einsteiger:innen viel angenehmer ist.

---

## R GUI - erste Ansicht

Schauen wir uns zunÃ¤chst die **R OberflÃ¤che** ***(ohne RStudio)*** an. 

::: columns
::: column
![](assets/images/r-gui-console.png){height=250 style="border: 2px solid red;"}
:::

::: column
![](assets/images/r-gui-zoom.png){height=250 style="border: 2px solid red;"}
:::
:::

**Was sehen wir hier?**

- ***Linkes Bild***
  - Die "normale" **R OberflÃ¤che**
    - Sie besteht zunÃ¤chst nur aus einer ***R Console***
- ***Rechtes Bild***
  - Die **R Console**
    - Hier werden Befehle direkt eingegeben
    - Ergebnisse erscheinen sofort darunter

::: callout-note
**Hinweis**

Alles, was du in die Konsole eingibst, wird sofort von R ausgefÃ¼hrt.  
Das Ergebnis siehst du direkt unter der eingegebenen Zeile.

***Beispiel***

- gib `13`ein
- gib `a` ein
- gib `13+15`

::: callout-caution
**ABER**

Wir brauchen ***R GUI*** nicht, sondern nutzen **RStudio!**
:::
:::

## RStudio - Unser Cockpit ğŸ›ï¸

Schauen wir uns nun die OberflÃ¤che von **RStudio** an. Startet einfach **RStudio** ***(nicht R GUI!)***. Ihr mÃ¼sst nun das folgende Bild sehen:

![](assets/images/rstudio-1.png){width=100% style="border: 2px solid darkblue;"}

**Wir schauen uns nun die MenÃ¼-Leiste von RStudio an:**

![](assets/images/rstudio-menu.png){width=100% style="border: 2px solid darkblue;"}

<span style="color: orange; font-weight: bold;">Orange</span> â€“ die MenÃ¼-Leiste

In der MenÃ¼-Leiste findest du alle wichtigen Funktionen von RStudio Ã¼bersichtlich nach Themen sortiert. Hier kannst du zum Beispiel Dateien Ã¶ffnen und speichern, Einstellungen Ã¤ndern, Codes ausfÃ¼hren oder Hilfe aufrufen. *Das Aussehen deines RStudios kannst du auch hier anpassen!*

<span style="color: green; font-weight: bold;">GrÃ¼n</span> â€“ die Schnellzugriff-Leiste

Die Schnellzugriff-Leiste enthÃ¤lt hÃ¤ufig genutzte Funktionen als Symbole.
Damit kannst du z. B. schnell neue Dateien erstellen, Skripte speichern oder Codes ausfÃ¼hren, ohne durch MenÃ¼s zu klicken.

## Die vier Bereiche von RStudio

RStudio ist in **vier Arbeitsbereiche** (Panes/Paneele) aufgeteilt.
Jeder Bereich hat eine eigene Aufgabe. Aber jetzt gerade siehst du nur drei Bereiche. Ich zeige dir jetzt erstmal, wie du die vier Bereiche bekommst!

::: callout-note
HierfÃ¼r gehst du zunÃ¤chst in die **Schnellzugriffs-Leiste** und klickst auf das Symbol ganz links, das **weiÃŸe Blatt** mit dem <span style="color: green; font-weight: bold;">**Plus**</span>.

![](assets/images/rstudio-open-script1.png){width=100% style="border: 2px solid darkblue;"}

AnschlieÃŸend Ã¶ffnet sich ein **Drop-Down** und du kannst jetzt schon sehen, was du alles mit ***RStudio*** machen kannst.

![](assets/images/rstudio-open-script2.png){height=600 style="border: 2px solid darkblue;"}

Wir wollen aber ein neues `**R Script erstellen**`, daher klicken wir auch da drauf!

::: callout-tip
Ãœbrigens diese Workshopseite wurde komplett mit RStudio und Quarto Markdowns erstellt.
:::
:::

Jetzt sollte dein RStudio so aussehen:

![](assets/images/rstudio-panes.png){width=100% style="border: 2px solid darkblue;"}

### ğŸ”µ Skript-Editor (oben links)

![](assets/images/rstudio-script-pane.png){width=100% style="border: 2px solid darkblue;"}

Hier schreibst du deinen **Code** in Skripten.

- Codes werden **nicht sofort** ausgefÃ¼hrt
- du kannst ihn speichern, verÃ¤ndern und wiederverwenden
- ideal fÃ¼r sauberes, nachvollziehbares Arbeiten

::: callout-note
ğŸ‘‰ **Merke:**  
Alles Wichtige gehÃ¶rt ins **Skript**, nicht nur in die Konsole.
:::


### âš« Konsole (unten links)

![](assets/images/rstudio-console-pane.png){width=100% style="border: 2px solid darkblue;"}

Die ***Konsole*** kennen wir im Grunde schon. Wie du vielleicht schon erkannt hast, ist es die selbe Konsole wie bei **R GUI**.

- hier fÃ¼hrt R Befehle aus
- Ergebnisse erscheinen direkt darunter
- gut zum Ausprobieren und Testen

ğŸ‘‰ Code aus dem Skript kann mit **Run** oder **Strg + Enter** ausgefÃ¼hrt werden.


### ğŸŸ£ Environment & History (oben rechts)

![](assets/images/rstudio-envi-pane.png){width=100% style="border: 2px solid darkblue;"}

<u>Im **Environment** siehst du:</u>

- alle Objekte, die du erstellt hast
- z. B. Variablen, Daten, Ergebnisse

<u>In der **History** findest du:</u>

- frÃ¼here Befehle, die du eingegeben hast

ğŸ‘‰ So behÃ¤ltst du den Ãœberblick, was gerade â€im Speicherâ€œ liegt.


### ğŸŸ¢ Files, Plots, Packages, Help (unten rechts)

![](assets/images/rstudio-plot-pane.png){width=100% style="border: 2px solid darkblue;"}

Dieser Bereich zeigt dir:

- **Files**: deine Dateien und Ordner
- **Plots**: Grafiken, die du erzeugst
- **Packages**: installierte Erweiterungen
- **Help**: Hilfeseiten zu Funktionen

ğŸ‘‰ Hier findest du fast alles, was R zusÃ¤tzlich ausgibt und wo es gespeichert ist.

::: callout-important
Im nÃ¤chsten Abschnitt legen wir unser erstes **Projekt** an!
:::

---

# Projekt anlegen

Ein Projekt hilft dir, **strukturiert und reproduzierbar** zu arbeiten.

- alle Dateien (Skripte, Daten, Grafiken) liegen an einem festen Ort  
- R weiÃŸ immer, **wo es die Dateien findet** (keine kaputten Pfade)
- du kannst deine Arbeit jederzeit schlieÃŸen und **genau dort weitermachen**
- besonders wichtig fÃ¼r grÃ¶ÃŸere Analysen und gemeinsames Arbeiten

ğŸ‘‰ **Merke:**  
Ein neues Projekt = ein neuer, sauberer Arbeitskontext.
 
::: callout-warning
**Typischer AnfÃ¤ngerfehler**

Viele arbeiten **ohne Projekt** und laden Dateien â€irgendwoherâ€œ.

Das fÃ¼hrt oft zu:

- Fehlermeldungen wie *â€file not foundâ€œ*
- nicht reproduzierbaren Analysen
- Verwirrung, wenn man die Sitzung neu startet

ğŸ‘‰ **GewÃ¶hne dir an:**  
FÃ¼r **jedes Projekt** ein eigenes RStudio-Projekt anzulegen.
:::

### Projekt anlegen â€“ Schritt fÃ¼r Schritt

1. Klicke oben auf **File â†’ New Projectâ€¦** in der MenÃ¼-Leiste
2. WÃ¤hle **New Directory**
3. WÃ¤hle **New Project**
4. Vergib einen **sinnvollen Namen** (z. B. `r_workshop_tag1`)
5. WÃ¤hle einen Speicherort auf deinem Rechner
6. Klicke auf **Create Project**

::: columns
::: column
![](assets/images/rstudio-file-proj.png){width=100% style="border: 2px solid darkblue;"}
**Schritt 1:**  
*File â†’ New Projectâ€¦*
:::

::: column
![](assets/images/rstudio-newdir-proj.png){width=100% style="border: 2px solid darkblue;"}
**Schritt 2:**  
*New Directory*
:::
:::

::: columns
::: column
![](assets/images/rstudio-newproj-proj.png){width=100% style="border: 2px solid darkblue;"}
**Schritt 3:**  
*New Project*
:::

::: column
![](assets/images/rstudio-creaproj-proj.png){width=100% style="border: 2px solid darkblue;"}
**Schritt 4 bis 6:**  
*Name vergeben, Speicherort wÃ¤hlen & Create Project*
:::
:::


::: callout-tip
ğŸ‘‰ **Tipp:**  
Der Projektname sollte **keine Leerzeichen** enthalten  
(z. B. `r_workshop_tag1` statt `R Workshop Tag 1`)
:::

**RStudio startet nun neu â€“ du arbeitest jetzt** ***innerhalb deines Projekts.***

---

# R Script

Nachdem wir nun ein Projekt angelegt haben, beginnen wir mit dem eigentlichen Arbeiten in einem **R Script**.

Ein Script ist eine Textdatei, in der du deine Befehle sammelst und speicherst.
So kannst du:
- deine Arbeit nachvollziehen
- Code spÃ¤ter wiederverwenden
- Analysen Schritt fÃ¼r Schritt dokumentieren

RStudio bietet viele MÃ¶glichkeiten, mit R zu arbeiten.
Wir starten bewusst **sehr einfach**, um ein GefÃ¼hl dafÃ¼r zu bekommen, wie R reagiert.

::: callout-tip
### **Erinnerung**
Mit **Strg + Enter** wird der Befehl **in der Zeile ausgefÃ¼hrt, in der dein Cursor steht** â€“  
du musst den Code **nicht markieren** und **nicht auf â€Runâ€œ klicken**.
:::


## RStudio als Taschenrechner

Zum Einstieg kannst du RStudio wie einen **Taschenrechner** benutzen.

Du gibst einen Befehl ein â€“ R rechnet â€“ und gibt das Ergebnis zurÃ¼ck.
So lernst du schnell:

- wie Befehle aufgebaut sind
- wie R mit Zahlen umgeht
- dass R immer auf **Eingaben reagiert**

```{r}
#| echo: true

2 + 2
10 / 3
sqrt(49)
```

::: {.callout-warning collapse="true"}
### Warum ins Skript schreiben?

Befehle, die du **nur in der Konsole** eingibst, sind schnell wieder weg â€“  
du musst spÃ¤ter mÃ¼hsam hochscrollen, um sie zu finden.

Schreibst du deine Rechnungen **in ein R Script**, bleiben sie erhalten:

- du kannst sie jederzeit wieder ausfÃ¼hren
- du behÃ¤ltst den Ãœberblick
- deine Arbeit ist nachvollziehbar und reproduzierbar
:::

::: {.callout-tip collapse="true"}
# **Ãœbung 1** â€“ R als Taschenrechner


1. Berechne zuerst den Ausdruck  
   `((8 + 4)^2 - 10) / 2`.
2. Berechne anschlieÃŸend  
   `sqrt(196) + 3^3`.
3. FÃ¼hre **alle Rechnungen**
   - einmal direkt in der **Konsole**
   - und einmal aus einem **Skript**

Beobachte, was gleich ist und was sich unterscheidet.
:::

::: {.callout-note collapse="true"}
# **LÃ¶sung Ãœbung 1**

```{r}
#| echo: true

#Aufgabe 1
((8 + 4)^2 - 10) / 2

#Aufgabe 2
sqrt(196) + 3^3

```
::: 

# Grundprinzipien von R

R arbeitet objektorientiert: Alles, was du erzeugst, kann ein Objekt sein und bekommt einen Namen.

```{r}
#| echo: true

x <- 5
y <- c(23, 12, 11, 9, 13)

```

::: callout-note
# **Hinweis**

- `<-` ist der **Zuweisungspfeil**: Er weist den Wert rechts dem Namen links zu.  
- `c()` steht fÃ¼r **combine**: Damit fasst R mehrere Werte zu einem **Vektor** zusammen.  
- `y` ist der **Name des Objekts**. Das Objekt selbst ist ein **Vektor**, der mehrere Zahlen enthÃ¤lt.
:::

## Funktionen verwenden

Funktionen sind **vordefinierte Befehle**, mit denen R etwas fÃ¼r uns erledigt.  
Sie nehmen einen oder mehrere **Eingabewerte** entgegen, fÃ¼hren damit eine bestimmte Operation aus und geben ein **Ergebnis** zurÃ¼ck.

Man kann sich Funktionen wie **Werkzeuge** vorstellen:  
Je nach Aufgabe benutzen wir ein anderes Werkzeug.

In R werden Funktionen immer mit **runden Klammern `()`** aufgerufen.

Im Folgenden verwenden wir einige **grundlegende Funktionen**, die R bereits mitbringt:

```{r}
#| echo: true

sum(y)

mean(y)

sd(y)

median(y)

mad(y)

min(y)

max(y)

range(y)

length(y)

```

::: {.callout-note collapse="true"}
# **Was machen diese Funktionen?**

- `sum()` â€“ berechnet die **Summe** aller Werte  
- `mean()` â€“ berechnet den **Mittelwert**  
- `sd()` â€“ berechnet die **Standardabweichung**  
- `median()` â€“ gibt den **Median** zurÃ¼ck  
- `mad()` â€“ berechnet die **mittlere absolute Abweichung**  
- `range()` â€“ gibt **kleinsten und grÃ¶ÃŸten Wert** aus  
- `min()` â€“ kleinster Wert  
- `max()` â€“ grÃ¶ÃŸter Wert  
- `length()` â€“ Anzahl der Werte

Es gibt eine Vielzahl **Base R Funktionen**, ihr kÃ¶nnt sie gerne erkundigen!
:::

Funktionen kÃ¶nnen nicht nur einzeln verwendet werden, sondern auch **miteinander kombiniert** werden.  
Das Ergebnis einer Funktion kann dabei **direkt als Eingabe** fÃ¼r eine andere Funktion dienen.

Zum Beispiel kÃ¶nnen wir den Mittelwert berechnen und anschlieÃŸend daraus die Wurzel ziehen,  
oder wir kombinieren mehrere Funktionen, um neue Kennwerte zu berechnen.

```{r}
#| echo: true

sqrt(mean(y))

max(y) - min(y)

```

In der nÃ¤chsten Ãœbung nutzen wir diese Grundfunktionen,  
um eigene Kennwerte zu berechnen und die Ergebnisse **als Objekte zu speichern**.

::: {.callout-tip collapse="true"}
# **Ãœbung 2** â€“ Funktionen

Nutze den Vektor `y` und berechne folgende Kennwerte:

1. Den **Standardfehler des Mittelwerts**  
2. Die **Varianz**  
3. Die **z-standardisierten Werte** (z-Werte)  
4. Das **95%-Konfidenzintervall** (KI) fÃ¼r den Mittelwert

Speichere alle Ergebnisse als eigene Objekte, z. B.:
`se_y`, `var_y`, `z_y`, `ci_y`.
:::

::: {.callout-tip collapse="true"}
# **Tipp: Formeln fÃ¼r die Berechnung**

Du darfst dir fÃ¼r die Berechnung **Hilfsobjekte** anlegen.

---

**Standardfehler des Mittelwerts**

$$
SE = \frac{sd(x)}{\sqrt{n}}
$$

- $sd$ = Standardabweichung 
- $n$ = Anzahl der Werte  

---

**Varianz (Stichprobe)**

$$
\text{Var} = \frac{1}{n - 1} \sum (x - \bar{x})^2
$$

- $\bar{x}$ = Mittelwert der Daten  
- $\sum$ = Summe Ã¼ber alle Beobachtungen  

---

**z-Standardisierung**

$$
z = \frac{x - \bar{x}}{sd(x)}
$$

---

**95\%-Konfidenzintervall des Mittelwerts**

$$
\bar{x} \pm t_{0.975,\,n-1} \cdot SE
$$

- $t_{0.975,\,n-1}$ = kritischer t-Wert fÃ¼r ein **95 %-Konfidenzintervall**. In R `qt(0.975, df = n - 1)`
- $\pm$ = untere und obere Grenze des Intervalls

:::

::: {.callout-note collapse="true"}
# **LÃ¶sung â€“ Ãœbung 2**

```{r}
#| echo: true

# Hilfsobjekte
n <- length(y)   # Anzahl der Werte
m <- mean(y)     # Mittelwert
s <- sd(y)       # Standardabweichung

# 1) Standardfehler des Mittelwerts

se_y <- s / sqrt(n)

se_y

# 2) Varianz (Stichprobe)

var_y <- sum((y - m)^2) / (n - 1)

var_y


# 3) z-standardisierte Werte

z_y <- (y - m) / s

z_y


# 4) 95%-Konfidenzintervall des Mittelwerts

t_crit <- qt(0.975, df = n - 1)

ci_y <- c(
lower = m - t_crit * se_y,
upper = m + t_crit * se_y
)

ci_y

```
:::



::: callout-warning
# **HÃ¤ufige Fehler**

- Funktion falsch geschrieben: `Mean(y)` statt `mean(y)`  
- Klammern vergessen: `mean y` statt `mean(y)`  
- `<-` vergessen oder `=` inkonsistent verwendet  
- Im falschen Fenster tippen (Konsole statt Skript oder umgekehrt)
:::

## Datentypen & Datenstrukturen

In R ist es wichtig zu wissen, **was fÃ¼r eine Art von Daten** wir vor uns haben  
und **wie diese Daten organisiert sind**.

Deshalb unterscheiden wir zwischen **Datentypen** und **Datenstrukturen**.

Beides bestimmt, wie wir mit Daten rechnen, sie verÃ¤ndern und analysieren kÃ¶nnen.

### Wichtige Datentypen

Datentypen legen fest, **welche Art von Werten** in einem Objekt gespeichert ist.  
R behandelt Zahlen, Text und logische Werte unterschiedlich â€“ je nach Datentyp.

Der Datentyp ist wichtig, weil er bestimmt,
- welche Berechnungen mÃ¶glich sind
- wie R die Werte interpretiert
- welche Funktionen sinnvoll angewendet werden kÃ¶nnen


::: callout-note
# **DatentypenÃ¼berblick**

- `numeric` / `double`  
  Zahlen mit Dezimalstellen, z. B. `3.14` oder `-7.5`.  
  Wird fÃ¼r die meisten Berechnungen verwendet.

- `integer`  
  Ganze Zahlen ohne Dezimalstellen, z. B. `1L` oder `42L`.  
  Kommt seltener vor, ist aber wichtig bei ZÃ¤hlvariablen.

- `character`  
  Textwerte, z. B. `"Anna"` oder `"Deutschland"`.  
  Mit Text kann man **nicht rechnen**.

- `logical`  
  Logische Werte: `TRUE` oder `FALSE`.  
  Wird hÃ¤ufig bei Bedingungen oder Filtern genutzt.

- `factor`  
  Kategorische Daten mit festen AusprÃ¤gungen, z. B. Geschlecht oder Schulabschluss.
:::


### Wichtige Datenstrukturen

Datenstrukturen beschreiben, **wie mehrere Werte in R zusammengefasst und organisiert** sind.  
Sie legen fest, ob Daten einzeln, als einfache Liste oder als Tabelle gespeichert werden.

Welche Datenstruktur wir verwenden, ist wichtig,  
weil sie bestimmt, wie wir auf Daten zugreifen, sie verÃ¤ndern und analysieren kÃ¶nnen.

::: callout-note
# **DatenstrukturenÃ¼berblick**

- **Vektor**  
  Eine geordnete Sammlung von Werten **gleichen Datentyps**.  
  Grundlage fÃ¼r fast alle anderen Datenstrukturen in R.

- **Matrix**  
  Eine rechteckige Tabelle aus Werten **gleichen Datentyps** (meist Zahlen).  
  Wird vor allem fÃ¼r mathematische und statistische Berechnungen verwendet.

- **Data Frame / tibble**  
  Eine Tabelle mit Zeilen (**FÃ¤lle**) und Spalten (**Variablen**).  
  Standardformat fÃ¼r DatensÃ¤tze in der empirischen Forschung.
:::

Datenstrukturen in R bauen in gewisser Weise aufeinander auf.

Am Anfang steht der **Vektor**:  
Ein Vektor ist eine einfache, geordnete Reihe von Werten gleichen Datentyps.

Aus Vektoren lassen sich **Matrizen** bilden:  
Eine Matrix ist eine Sammlung mehrerer gleich langer Vektoren, die rechteckig angeordnet sind.

Ein **Data Frame** geht einen Schritt weiter:  
Auch hier bestehen die Spalten aus Vektoren, die Spalten dÃ¼rfen aber **unterschiedliche Datentypen** haben.

So lassen sich reale DatensÃ¤tze mit Zahlen, Text und Kategorien in einer Tabelle abbilden.

::: callout-warning
# **Achtung Wichtig**

Die Datenstrukturen bauen **konzeptionell** aufeinander auf,  
sie werden in der Praxis **nicht automatisch ineinander umgewandelt**
:::
---
### Welcher Datentyp oder welche Datenstruktur hat mein Objekt?

In R kÃ¶nnen wir jederzeit Ã¼berprÃ¼fen, **was fÃ¼r eine Art von Objekt** wir im Environment haben. Das ist besonders hilfreich, wenn wir mit vielen Objekten arbeiten oder unsicher sind, wie R ein Objekt interpretiert.

::: callout-tip
# **Grundlegende Befehle im Ãœberblick**

- `class(x)` - gibt uns eine **allgemeine Einordnung** des Objekts.
  - `typeof(x)` - detaillierter wie class, zeigt **wie R das Objekt intern speichert**
- `str(x)` - gibt einen **Ãœberblick Ã¼ber Aufbau und Inhalt** eines Objekts.

FÃ¼r **Funktionen**:
- `?mean()` - Ã–ffnet die **Hilfeseite** zur Funktion `mean()` (Beschreibung, Argumente, Beispiele).
:::

Im Folgenden betrachten wir unsere zuvor erstellten Objekte `x` und `y` genauer und nutzen sie, **um die entsprechenden Befehle anzuwenden.**

```{r}
#| echo: true

class(x)
class(y)

typeof(x)
typeof(y)

str(x)
str(y)
```

::: {.callout-tip collapse="true"}
# **Ãœbung 3** â€“ Datentyp und Datenstruktur

Im bisherigen Verlauf haben wir mehrere **Objekte und Hilfsobjekte** erstellt.

1. ÃœberprÃ¼fe fÃ¼r jedes dieser Objekte  
   - den **Datentyp** und  
   - die **Datenstruktur**.

2. Nutze dafÃ¼r die Befehle  
   `class()`, `typeof()` und `str()`.

3. Ãœberlege dir:
   - Welche Objekte sind **einzelne Werte**?  
   - Welche Objekte sind **Vektoren**?

Ziel ist es, ein besseres GefÃ¼hl dafÃ¼r zu bekommen,  
wie R unterschiedliche Ergebnisse speichert.
:::

::: {.callout-note collapse="true"}
### **LÃ¶sung â€“ Ãœbung 3**

```{r}
#| echo: true

# Mittelwert
class(m)
typeof(m)
str(m)

# Anzahl der Werte
class(n)
typeof(n)
str(n)

# Standardabweichung
class(s)
typeof(s)
str(s)

# Standardfehler
class(se_y)
typeof(se_y)
str(se_y)

# Varianz
class(var_y)
typeof(var_y)
str(var_y)

# z-standardisierte Werte
class(z_y)
typeof(z_y)
str(z_y)

# Konfidenzintervall
class(ci_y)
typeof(ci_y)
str(ci_y)
```
:::


::: callout-tip
# **Faustregel: Ein Objekt in R verstehen**
1. `class()`  
   â†’ Welche **Art von Objekt** ist es?
2. `typeof()`  
   â†’ Wie wird das Objekt **intern gespeichert**?
3. `str()`  
   â†’ Wie ist das Objekt **aufgebaut** und welche Inhalte hat es?
:::

## Einen ersten Datensatz in R erstellen

Bisher haben wir mit einzelnen Objekten und Vektoren gearbeitet. In der Praxis bestehen DatensÃ¤tze jedoch aus **mehreren Variablen**, die gemeinsam eine Gruppe von FÃ¤llen beschreiben.

Im nÃ¤chsten Schritt erstellen wir deshalb mehrere Vektoren (z. B. Alter, Geschlecht oder KÃ¶rpergrÃ¶ÃŸe) und fÃ¼hren sie zu einem **kleinen Datensatz** zusammen.

Dabei lernst du,
- wie mehrere Vektoren sinnvoll angelegt werden und  
- wie aus einzelnen Variablen eine tabellarische Struktur entsteht.

Wir legen nun unsere neuen Vektoren (= **Variablen**)** an:

```{r}
#| echo: true

# Alter
age <- c(23, 29, 35, 41, 27, 33)

# Geschlecht
gender <- c("female", "male", "female", "male", "female", "male")

# Haarfarbe
hair_color <- c("brown", "blonde", "black", "brown", "red", "black")

# KÃ¶rpergrÃ¶ÃŸe in cm
height_cm <- c(165, 180, 172, 178, 160, 185)

# Gewicht in kg
weight_kg <- c(60, 82, 70, 88, 55, 90)

# Beruf
occupation <- c(
  "student",
  "engineer",
  "teacher",
  "manager",
  "student",
  "researcher"
)
```
Jeder dieser Vektoren stellt eine **Variable** dar.  
Die einzelnen Werte gehÃ¶ren jeweils **zur gleichen Person**  
(d. h. zur gleichen Zeile im spÃ¤teren Datensatz).

::: callout-important
# Wichtig 
Alle Vektoren mÃ¼ssen **die gleiche LÃ¤nge** haben.

ÃœbeprÃ¼fe das!
:::

Im nÃ¤chsten Schritt fassen wir die einzelnen Variablen zu einem **gemeinsamen Datensatz** zusammen.  
Dabei verwenden wir zunÃ¤chst **Base R**, also Funktionen, die ohne zusÃ¤tzliche Pakete verfÃ¼gbar sind.

```{r}
#| echo: true

data <- data.frame(
  age = age,
  gender = gender,
  hair_color = hair_color,
  height_cm = height_cm,
  weight_kg = weight_kg,
  occupation = occupation
)

data
```

::: callout-caution
# Achtung

Aufbau der Funktion `data.frame()`:

`data.frame(name1 = name2)`

- `name1` = Spaltenname im Datensatz
- `name2` = Objektname aus dem Environment
:::


Die einzelnen Vektoren sind nun zu einem **Datensatz** zusammengefÃ¼hrt worden:

- jede **Spalte** ist eine Variable  
- jede **Zeile** ist ein Fall (eine Person)

`data.frame()` ist die klassische Tabellenstruktur in Base R  
und bildet die Grundlage fÃ¼r viele weitere Analyseschritte.

::: callout-note
# **Erinnerung**

Auch ein einzelner Wert ist in R ein **Vektor der LÃ¤nge 1**. Mit der `c()` Funktion kÃ¶nnen wir einzelne Werte zu einem Vektor zusammenfassen
:::

::: {.callout-tip collapse="true"}
# **Ãœbung 4** â€“ Erstelle einen Datensatz

Bisher haben wir einen Datensatz erstellt mit sechs Variablen. Erstelle nun zwei weitere **Variablen** und fÃ¼ge diesen zu einem Datensatz hinzu. Nenne die eine Variable `numbers`und die andere `chars`.
:::

::: {.callout-tip collapse="true"}

# **LÃ¶sung - Ãœbung 4**

```{r}
#| echo: true

numbers <- c(12,5,17,6,75,22)

chars <- c("Anna", "Alex", "Beate", "Bobby", "Christina", "Chester")

data <- data.frame(
  age = age,
  gender = gender,
  hair_color = hair_color,
  height_cm = height_cm,
  weight_kg = weight_kg,
  occupation = occupation,
  nmbrs = numbers,
  chars = chars
)
```
:::

::: callout-warning
# **Typische Fehler beim Erstellen eines Data Frames**

- **Komma vergessen oder zu viel gesetzt**  
  â†’ fÃ¼hrt oft zu unerwarteten Fehlermeldungen.

- **Falscher Objektname**  
  â†’ R unterscheidet zwischen GroÃŸ- und Kleinschreibung  
  (`Age` â‰  `age`).

- **Unterschiedliche LÃ¤ngen der Vektoren**  
  â†’ Alle Variablen mÃ¼ssen **gleich viele Werte** haben.
:::

## **Exkurs: Pakete**

Pakete sind **Erweiterungen von R**.  
Sie enthalten zusÃ¤tzliche Funktionen, DatensÃ¤tze und Dokumentationen,  
die bestimmte Aufgaben erleichtern oder Ã¼berhaupt erst mÃ¶glich machen.

R bringt bereits viele grundlegende Funktionen mit (Base R).  
FÃ¼r komplexere oder spezialisierte Aufgaben greifen wir jedoch hÃ¤ufig auf **Pakete** zurÃ¼ck.

### Pakete Installieren

Bevor wir ein Paket nutzen kÃ¶nnen, mÃ¼ssen wir es **einmal installieren**.  
Die Installation erfolgt Ã¼ber das Internet und wird lokal auf dem Rechner gespeichert.


```{r}
#| echo: true
#| eval: false

install.packages("tidyverse")
install.packages("psych")
```
::: callout-warning
# **Wichtig**

`install.packages()` muss **nur einmal** ausgefÃ¼hrt werden.  
Danach ist das Paket in der Regel dauerhaft auf deinem Rechner verfÃ¼gbar.
:::

### Paket laden

Nach der Installation mÃ¼ssen Pakete **in jeder neuen R-Sitzung geladen** werden,
damit ihre Funktionen zur VerfÃ¼gung stehen.


```{r}
#| echo: true
#| eval: false

library(tidyverse)
library(psych)
```
::: callout-tip
# **Merksatz**

- `install.packages()` â†’ einmal installieren  
- `library()` â†’ in jeder Sitzung laden
:::

### Das tidyverse

Das **tidyverse** ist eine Sammlung mehrerer Pakete,  
die besonders fÃ¼r **Datenaufbereitung, Analyse und Visualisierung** entwickelt wurden.

Es bietet:

- gut lesbaren Code  
- einheitliche Funktionsnamen  
- komfortable Werkzeuge fÃ¼r Data Frames

::: callout-tip
Typische tidyverse-Pakete sind zum Beispiel:

- `dplyr` (Datenaufbereitung)
- `ggplot2` (Visualisierung)
- `readr` (Datenimport)
:::

Wir werden das tidyverse spÃ¤ter als **Alternative zu Base R** nutzen.

### Das psych-Paket

Das Paket **psych** wird hÃ¤ufig in den Sozial- und Verhaltenswissenschaften verwendet.

Es enthÃ¤lt unter anderem:

- deskriptive Statistiken
- Skalenanalysen
- psychometrische Kennwerte

::: callout-note
`psych` ergÃ¤nzt Base R um viele Funktionen,
die in der empirischen Forschung regelmÃ¤ÃŸig benÃ¶tigt werden.
:::

## Datenimport

Bisher haben wir DatensÃ¤tze selbst erstellt, um zu verstehen,  
wie Daten in R **strukturiert** sind (Vektoren, Data Frames, Variablen).

In der Praxis mÃ¼ssen wir DatensÃ¤tze jedoch **nicht von Hand anlegen**.  
HÃ¤ufig stammen Daten aus externen Quellen, zum Beispiel aus:

- Online-Befragungstools (z. B. SoSci Survey)
- Excel-Tabellen
- Statistiksoftware wie SPSS
- Forschungsprojekten oder Repositorien

Diese Daten werden meist Ã¼ber eine **Export-Funktion** als Datei bereitgestellt (z. B. CSV oder Excel) und anschlieÃŸend in R **importiert**.

::: callout-note
# **Typische Datenformate**

- **CSV** (`.csv`) â€“ sehr verbreitet, einfach, textbasiert  
- **Excel** (`.xlsx`) â€“ hÃ¤ufig in der Praxis  
- **SPSS** (`.sav`) â€“ vor allem in den Sozialwissenschaften
:::

Beim Importieren von Daten kÃ¶nnen verschiedene **HÃ¼rden** auftreten.  
Diese sind normal und gehÃ¶ren zur Arbeit mit realen DatensÃ¤tzen dazu.

::: callout-warning
# **Typische Probleme beim Datenimport**

- Datei wird nicht gefunden (falscher **Pfad**)  
- Falsches **Trennzeichen** (Komma vs. Semikolon)  
- Umlaute oder Sonderzeichen werden falsch angezeigt (**Encoding**)  
- Variablen werden als Text statt als Zahl erkannt  
- Fehlende Werte sind unterschiedlich kodiert (z. B. leer, `-99`, `999`)
:::

Um den Datenimport mÃ¶glichst Ã¼bersichtlich und zuverlÃ¤ssig zu gestalten,  
verwenden wir ab jetzt Funktionen aus dem **tidyverse**.

Diese bieten:
- klare und gut lesbare Befehle  
- sinnvolle Standardannahmen  
- eine einfache erste PrÃ¼fung der importierten Daten

::: callout-tip
# **Einordnung**

Wir haben bewusst zuerst mit **Base R** gearbeitet,  
um die grundlegenden Strukturen zu verstehen.

Jetzt nutzen wir das tidyverse als **komfortablere Alternative**  
fÃ¼r reale Daten und typische Workflows.
:::

Im nÃ¤chsten Schritt importieren wir einen Datensatz aus einer SAV-Datei  
und prÃ¼fen anschlieÃŸend, ob der Import korrekt funktioniert hat.

FÃ¼r die folgenden Schritte arbeiten wir mit einem **vorgegebenen Datensatz**.

Bitte lade den Datensatz herunter und speichere ihn **in deinem Projektordner**, zum Beispiel im Unterordner `data/`.

â¡ï¸ **[Workshop-Datensatz herunterladen (CSV)](../ws1/assets/data/datensatz_workshop.csv)**  
â¡ï¸ **[Workshop-Datensatz herunterladen (SPSS)](../ws1/assets/data/spss_datensatz_workshop.sav)**

Hier kannst du das **Codebuch** zum Datensatz runterladen, fÃ¼r eine **bessere Ãœbersicht**, Ã¼ber die Variablen im Datensatz.

â¡ï¸ **[Codebuch Workshop Datensatz (PDF)](../ws1/assets/data/codebook_workshop_datensatz.pdf)**

::: callout-warning
# **Wichtig**

Achte darauf, die Datei **nicht irgendwo auf dem Rechner**, sondern **im Projektordner** zu speichern.  
Nur so funktionieren die folgenden Import-Befehle ohne Probleme.

:::

Jetzt importieren wir die Daten.

```{r}
#| echo: true
#| warning: false

# Falls nicht schon geschehen, lade folgende Pakete:

library(tidyverse)
library(haven)

# Importiere nun die DatensÃ¤tz

df_csv <- read_csv("assets/data/datensatz_workshop.csv")

df_spss <- read_sav("assets/data/spss_datensatz_workshop.sav")
```

::: callout-note
# Hinweis

Was fÃ¤llt dir auf, wenn du die **DatensÃ¤tze** vergleichst?

:::

::: callout-warning
# **Typische Probleme & LÃ¶sungen**

| Problem             | MÃ¶gliche Ursache | MÃ¶gliche LÃ¶sung                                  |
|--------------------|------------------|--------------------------------------------------|
| `cannot open file` | falscher Pfad    | Projektordner prÃ¼fen, Datei-Pfad anpassen       |
| Umlaute â€kaputtâ€œ   | Encoding         | `locale = locale(encoding = "UTF-8")` testen    |
| alles `character`  | Typ falsch erkannt | nachtrÃ¤glich mit `mutate()` umwandeln        |
:::

## Datenaufbereitung

Nachdem wir den Datensatz erfolgreich importiert haben, beginnt ein zentraler Schritt der Datenanalyse: die **Datenaufbereitung**.

Daten liegen in der Praxis selten sofort in der Form vor, in der sie analysiert oder ausgewertet werden kÃ¶nnen. HÃ¤ufig mÃ¼ssen Variablen ausgewÃ¤hlt, FÃ¤lle gefiltert, Werte umkodiert oder neue Variablen erstellt werden.

FÃ¼r diese Arbeitsschritte verwenden wir das Paket **dplyr**.

### Ãœberblick Datensatz

Bevor wir Daten aufbereiten oder verÃ¤ndern, sollten wir uns immer zuerst einen **Ãœberblick Ã¼ber den Datensatz** verschaffen.

So kÃ¶nnen wir prÃ¼fen,
- ob die Daten korrekt importiert wurden,
- welche Variablen enthalten sind,
- welche Datentypen vorliegen,
- und ob es offensichtliche AuffÃ¤lligkeiten gibt.

#### Schneller Ãœberblick


```{r}
#| results: hide
summary(df_csv)

summary(df_spss)
```

::: {.callout-tip collapse="true"}
# **Output**

```{r}
#| code-fold: true
summary(df_csv)

summary(df_spss)
```
:::

`summary()` gibt uns eine erste **Zusammenfassung der Variablen**  
(z. B. Min/Max-Werte, Mittelwerte, HÃ¤ufigkeiten). Aber es wirkt sehr unÃ¼bersichtlich, daher verwenden wir **`glimpse()`**.

```{r}
#| results: hide
glimpse(df_csv)

glimpse(df_spss)
```

::: {.callout-tip collapse="true"}
# **Output**
```{r}
#| code-fold: true
glimpse(df_csv)

glimpse(df_spss)
```
:::

### Exkurs: Datensatzstruktur

Bevor wir mit der Datenaufbereitung weitermachen, schauen wir uns an, **wie ein Datensatz in R grundsÃ¤tzlich aufgebaut ist** und wie wir auf einzelne Variablen zugreifen kÃ¶nnen.

Ein Datensatz (Data Frame) ist in R eine **Sammlung von Variablen**,  
die jeweils als Spalten organisiert sind.

#### Zugriff auf Variablen mit **`$`**

In Base R greifen wir auf einzelne Variablen eines Datensatzes  
mit dem **Dollar-Zeichen `$`** zu.




### EinfÃ¼hrung dplyr

`dplyr` ist Teil des **tidyverse** und bietet Funktionen,  
mit denen sich DatensÃ¤tze **lesbar, konsistent und effizient** bearbeiten lassen.

Der Fokus liegt dabei auf:
- klarer, gut nachvollziehbarer Syntax  
- schrittweisem Arbeiten  
- einer einheitlichen â€Grammatikâ€œ fÃ¼r Datenmanipulation

::: callout-important
# Wichtigsten Funktionen:

- `select()` â€“ Variablen auswÃ¤hlen  
- `filter()` â€“ FÃ¤lle auswÃ¤hlen  
- `mutate()` â€“ neue Variablen erstellen  
- `arrange()` â€“ sortieren  
- `rename()` â€“ Variablen umbenennen
:::




